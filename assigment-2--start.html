<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MDIA 2294</title>
	
	<style>	    
	    img {
	        margin:5px;
	    }
	    
	    img.clickable{
	        cursor:pointer;
	    }
	
	</style>
	
</head>
<body>

	<h1>MDIA 2294: Assignment 2</h1>
	
	<div style="text-align:center;">
	    <table>
	        <tr>
	            <td></td>
	            <td style="text-align:center;">
                    <div><img id="main-image" alt="Main Image" /></div>

                    <!-- you may or may not use this hidden textbox-->
                    <div><input id="current-index" /></div>    
                </td>
	            <td></td>
	        
	        </tr>
	        <tr>
	            <td>
	                <img src="images/first.png" id="first-btn" />            
	                <img src="images/prev.png" id="prev-btn" />
	            </td>
	            <td>
	                <div id="thumbnail-area"></div>	        
	            </td>
	            <td>
	                <img src="images/next.png" id="next-btn" />            
	                <img src="images/last.png" id="last-btn" />
	            </td>
	        </tr>	    
	    </table>       
	</div>
    
	<script>

		
const image_names = ["sleeping", "outfront", "culo", "shoes", "lurking", "jawdropper"];
		

		const first_load = () => { 

			// 0 is the first image in our array
			
			set_main_image (0);

			set_thumbnails ();

			update_thumbnails(0);
			// TODO: set the main image to the first image in the array (index 0)
			// TODO: set the thumbnail images		
		}
	
		const set_main_image = (index) => {

			document.querySelector('#main-image').src = "images/" + image_names [index] + "Full.png";

			current_index = index;
			// TODO: set the main-image src image based on the passed parameter	    
	
			// TODO: set the hidden textbox to the current index (if you take this approach)	    
	
			// update the thumbnails based on the current selection
			update_thumbnails(index);
		}
	
		const set_thumbnails = () => {

			image_names.forEach( (name, index) => {
				
				let new_thumb = document.createElement("img");
				
				new_thumb.src = "images/" + name + "Thumb.png";
				
				new_thumb.className = "clickable";
				
				new_thumb.addEventListener("click", () => {
					set_main_image(index);
				})

				document.querySelector("#thumbnail-area").append(new_thumb);
			});

			// TODO: declare a variable for the thumbnail strip html (optional)
	
			// TODO: loop through the global array and build the html
			//       - add an onclick handler to each thumbnail to call set_main_image(index)
	
			// TODO: add the html to the divThumbArea
	
		} 
	
		const update_thumbnails = (current_index) => {

			// if current number in array equals a certain ammount then make the opacity a certain amount

			const OpacityThumb = document.querySelectorAll(".clickable");

			OpacityThumb.forEach((name, index) => {

			(current_index === index) ? name.style.opacity = "1" : name.style.opacity = ".75";


			})

		
			// TODO: you'll need to loop through all thumbnails
			//		- turn on an indicator (eg opacity:1.0) if it's the selected thumb
			//		- turn off the indicator (eg opacity:0.75) if it's not
		} 
	
		// first button below

		const CamaroStart = document.querySelector ("#first-btn");
		
		const set_nav_first = () => {
			// TODO: navigate to the first image (this is the easy one since it's always index zero)
			
			set_main_image (0);
		}

		// runs function to go back to first image
		CamaroStart.addEventListener("click", set_nav_first);

		// go to last image button below

		const CamaroEnd = document.querySelector ("#last-btn");

		// im using this function to set the navigation to the last image. Ive set last image to 5 because I have 6 images in the array which starts at 0.

		const set_nav_last = () => {

			// last image in array is 5
			
			set_main_image (5);
			// TODO: navigate to the last image (should work for any size array)
		}

		// runs camaro end function

		CamaroEnd.addEventListener("click", set_nav_last);

		// next button below

		const CamaroNext = document.querySelector ("#next-btn");
	
		const set_nav_next = () => {

			// in this ternary statement, im saying if the current index at the moment is greater than or equal to the last item in the array, we're going to make it go back to 0 which is the first image in the array. If else, it will add one to the current index.

			const next_index = (current_index >= image_names.length - 1) ? 0 : current_index + 1;

			set_main_image(next_index);
			// TODO: move to the next image, unless at the end in which case show the first image
			
		}

		CamaroNext.addEventListener("click", set_nav_next);

		// previous below

		const CamaroBefore = document.querySelector ("#prev-btn");
		
	
		const set_nav_prev = () => {

			// to go back, if current index is equal to first item in array, you want to go back to the last item.

			const prev_index = (current_index <= 0) ? image_names.length - 1 : current_index -1;

			set_main_image(prev_index);
			// TODO: move to the previous image, unless at the end in which case show the last image
		}
		
		CamaroBefore.addEventListener("click", set_nav_prev);
	
		window.addEventListener("load", first_load);
		

	</script>
	
</body>
</html>